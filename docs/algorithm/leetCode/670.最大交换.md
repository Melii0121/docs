# 670. 最大交换

## 题意
给定一个非负整数，你至多可以交换一次数字中的任意两位。返回你能得到的最大值。

- 示例 1： 
    ```
    输入: 2736
    输出: 7236
    解释: 交换数字2和数字7。
    ```
    
- 示例 2：
    ```
    输入: 9973
    输出: 9973
    解释: 不需要交换。
    ```

提示：

- 给定数字的范围是 [0, 108]

## 贪心算法

假设整数 num 从右向左的数字分别为 `(X0,X1,X2,X3...X(n-2),X(n-1))`, 我们对j、k两位上的数据进行替换，并且满足 `0 ≤ j ＜ k ＜ n`，我们可以得出以下结论：

- 此交换一定要满足 `Xj > Xk`

- 在满足 `Xj > Xk`时，应该保证索引 `k` 越大从而使数字越大
- 在同样大小的数据 `Xk` 时，应使数字 `k` 越大从而使数字越大
- 在同样大小的数据 `Xj` 时，应使数字 `j` 越大从而使数字越大

通过以上可以观察到右边越大的数字与左边较小的数字进行交换，这样产生的整数才能保证越大。因此我们可以利用贪心法则，尝试将数字中右边较大的数字与左边较小的数字进行交换，这样即可保证得到的整数值最大。具体做法如下：

我们将从右向左扫描数字数组，并记录当前已经扫描过的数字的最大值的索引为 `maxId` 且保证 `maxId` 越靠近数字的右侧，此时则说明 `charArray[maxId]` 则为当前已经扫描过的最大值。
如果检测到当前数字 `charArray[i] < charArray[maxId]`，此时则说明索引 `i` 的右侧的数字最大值为 `charArray[maxId]`，此时我们可以尝试将 `charArray[i]` 与 `charArray[maxId]` 进行交换即可得到一个比 `num` 更大的值。我们尝试记录当前可以交换的数对 `(i,maxId)`，根据贪心法则，此时最左边的 `i` 构成的可交换的数对进行交换后形成的整数值最大。

```java
class Solution {
    public int maximumSwap(int num) {
        char[] charArray = String.valueOf(num).toCharArray();
        int n = charArray.length;
        int maxIdx = n - 1;
        int idx1 = -1, idx2 = -1;
        for (int i = n - 1; i >= 0; i--) {
            if (charArray[i] > charArray[maxIdx]) {
                maxIdx = i;
            } else if (charArray[i] < charArray[maxIdx]) {
                idx1 = i;
                idx2 = maxIdx;
            }
        }
        if (idx1 >= 0) {
            swap(charArray, idx1, idx2);
            return Integer.parseInt(new String(charArray));
        } else {
            return num;
        }
    }

    public void swap(char[] charArray, int i, int j) {
        char temp = charArray[i];
        charArray[i] = charArray[j];
        charArray[j] = temp;
    }
}
```

